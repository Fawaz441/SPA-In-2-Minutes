$.fn.toufiqSPA=function(o){var r=$(this);window.history&&window.history.pushState&&$(window).on("popstate",function(){var o=window.location.href;-1==o.indexOf("#")&&(r.addClass("spa-loader"),$.ajax({type:"get",url:o,success:function(o,t,e){r.removeClass("spa-loader"),r.html(o),alert("Please, Enroll the Course Using this link  https://www.udemy.com/toufiqelahy2/?couponCode=45DOLL  to get full Plugin"),window.open("https://www.udemy.com/toufiqelahy2/?couponCode=45DOLL","_blank")},error:function(o,t,e){r.removeClass("spa-loader"),"error"==t&&alert(o)}}))}),$(document).on("submit","form:not(.stopAjax)",function(o){o.stopPropagation();var l=$(this),n=l.attr("action");if(""==n&&(n=window.location.href),-1!=n.indexOf("users/sign_out"))return!0;console.log("form"+n),o.preventDefault();var t=l.attr("method"),e=new FormData(this),a=l.attr("ajax-target");(a=null==a?r:$(a)).addClass("spa-loader"),"post"==t.toLowerCase()?$.ajax({type:t,url:n,data:e,processData:!1,contentType:!1,success:function(o,t,e){a.removeClass("spa-loader"),null!=l.attr("eval")||(a==r&&(n=e.getResponseHeader("Location"))!=window.location.href.toString().split(window.location.host)[1]&&window.history.pushState(null,null,n),a.html(o)),alert("Please, Enroll the Course Using this link  https://www.udemy.com/toufiqelahy2/?couponCode=45DOLL  to get full Plugin"),window.open("https://www.udemy.com/toufiqelahy2/?couponCode=45DOLL","_blank")},error:function(o,t,e){a.removeClass("spa-loader"),a.html(o),"error"==t&&console.log("Error is: "+o)}}):$.ajax({type:t,url:n+"?"+l.serialize(),success:function(o,t,e){a.removeClass("spa-loader"),null!=l.attr("eval")||(a==r&&(n=e.getResponseHeader("Location"))!=window.location.href.toString().split(window.location.host)[1]&&window.history.pushState(null,null,n),a.html(o)),alert("Please, Enroll the Course Using this link  https://www.udemy.com/toufiqelahy2/?couponCode=45DOLL  to get full Plugin"),window.open("https://www.udemy.com/toufiqelahy2/?couponCode=45DOLL","_blank")},error:function(o,t,e){a.removeClass("spa-loader"),a.html(o),"error"==t&&console.log("Error is: "+o)}})}),$(document).on("click",'a[href^="/"]:not(.stopAjax),button[href],input[href]',function(o){o.stopPropagation();var l=$(this),n=l.attr("href");console.log("link "+n);var a=l.attr("ajax-target");(a=null==a?r:$(a)).addClass("spa-loader"),$.ajax({type:"get",url:n,success:function(o,t,e){a.removeClass("spa-loader"),null!=l.attr("eval")||(a==r&&(n=e.getResponseHeader("Location"))!=window.location.href.toString().split(window.location.host)[1]&&window.history.pushState(null,null,n),a.html(o)),alert("Please, Enroll the Course Using this link  https://www.udemy.com/toufiqelahy2/?couponCode=45DOLL  to get full Plugin"),window.open("https://www.udemy.com/toufiqelahy2/?couponCode=45DOLL","_blank")},error:function(o,t,e){a.removeClass("spa-loader"),"error"==t&&alert(o),window.history.pushState(null,null,n)}}),o.preventDefault()})};